<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Add Student Of Class</title>
<th:block th:insert="~{/templates/head::link}">
</th:block>
<th:block th:insert="~{/templates/head::script}">
</th:block>
</head>
<body>
	<div th:replace="~{/templates/menu::menu}"></div>
	<!-- <form>
		<section class="vh-100" style="background-color: #fbfbfb;">
			<div class="container h-100">
				<div class="row d-flex justify-content-center align-items-center"
					style="padding-top: 50px;">
					<div class="col-xl-7">
						<h3 class="mb-4" style="color: #150ECC" >Add student to the class</h3>
						<div class="card" style="border-radius: 15px;">
							<div class="card-body"><div class="row align-items-center pt-4 pb-3">
									<div class="col-md-3 ps-5">
										<h6 class="mb-0">ID_Classroom</h6>
									</div>
									<div class="col-md-9 pe-5">
										<input class="form-control form-control-lg" readonly="readonly"/>
									</div>
								</div>
								<hr class="mx-n3">
								<div class="row align-items-center pt-4 pb-3">
									<div class="col-md-3 ps-5">
										<h6 class="mb-0">ID_Student</h6>
									</div>
									<div class="col-md-9 pe-5">
										<input class="form-control form-control-lg" />
									</div>
								</div>
								<hr class="mx-n3">
								<div class="text-center">
									<button type="submit" class="btn btn-success"
										style="width: 200px; height: 40px; margin: 20px;">SAVE</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</form> -->
	
	<div class="container mt-4">
		<h1>Class List</h1>
		<form th:action="@{/admin/addStudentClass/{id}(id=${idTeacher})}" method="post">
			<ul class="list-group">
				<li th:each="c : ${listStudent}" class="form-check"><input
					type="checkbox" class="form-check-input"
					th:value="${c.id}" /> <label class="form-check-label"
					th:text="${c.id}"></label></li>
			</ul>
			<button type="submit" class="btn btn-primary">Submit</button>
		</form>
	</div>
	<div th:replace="~{/templates/footer::#footer}"></div>
</body>

<script>
	console.log(1);
	var form = document.querySelector('form');
	  var selectedStudent = []; 
	  
	  form.addEventListener('submit', function(event) {
		  event.preventDefault(); 
		  
		  
	    var checkboxes = form.querySelectorAll('input[type=checkbox]');
	    for (var i = 0; i < checkboxes.length; i++) {
	      if (checkboxes[i].checked) {
	    	  selectedStudent.push(checkboxes[i].value);
	      }
	    }

	    if (selectedStudent.length === 0) {
	      
	      return false;
	    }

	    for (var k = 0; k < selectedStudent.length; k++) {
	      var newInput = document.createElement('input');
	      newInput.type = 'hidden';
	      newInput.name = 'selectedStudent';
	      newInput.value = selectedStudent[k];
	      form.appendChild(newInput);
	    }
	    console.log(selectedStudent);
	    
	    form.submit();
	  });
</script>

</html>